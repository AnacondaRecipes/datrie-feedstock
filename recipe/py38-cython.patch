diff --git a/setup.py b/setup.py
index bf280ab..e101dd3 100755
--- setup.py
+++ setup.py
@@ -6,6 +6,8 @@ import os

 from setuptools import setup, Extension

+from Cython.Build import cythonize
+
 LIBDATRIE_DIR = 'libdatrie'
 LIBDATRIE_FILES = sorted(glob.glob(os.path.join(LIBDATRIE_DIR, "datrie", "*.c")))

@@ -27,12 +29,21 @@ CLASSIFIERS = [
     'Programming Language :: Python :: 3.5',
     'Programming Language :: Python :: 3.6',
     'Programming Language :: Python :: 3.7',
+    'Programming Language :: Python :: 3.8',
     'Programming Language :: Python :: Implementation :: CPython',
     'Topic :: Software Development :: Libraries :: Python Modules',
     'Topic :: Scientific/Engineering :: Information Analysis',
     'Topic :: Text Processing :: Linguistic'
 ]

+ext_modules = cythonize(
+    'src/datrie.pyx', 'src/cdatrie.pxd', 'src/stdio_ext.pxd',
+    annotate=True,
+    include_path=[os.path.join(os.path.dirname(os.path.abspath(__file__)), "src")]
+    )
+
+for m in ext_modules:
+    m.include_dirs=[LIBDATRIE_DIR]

 setup(name="datrie",
       version="0.8",
@@ -43,16 +54,10 @@ setup(name="datrie",
       license=LICENSE,
       url='https://github.com/kmike/datrie',
       classifiers=CLASSIFIERS,
-      libraries=[('libdatrie', {
+      libraries=[('datrie', {
           "sources": LIBDATRIE_FILES,
           "include_dirs": [LIBDATRIE_DIR]})],
-      ext_modules=[
-          Extension("datrie", [
-              'src/datrie.c',
-              'src/cdatrie.c',
-              'src/stdio_ext.c'
-          ], include_dirs=[LIBDATRIE_DIR])
-      ],
-
+      ext_modules=ext_modules,
       python_requires=">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*",
+      setup_requires=["pytest-runner", 'Cython>=0.28'],
       tests_require=["pytest", "hypothesis"])
